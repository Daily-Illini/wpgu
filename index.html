<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>WPGU 107.1 Champaign's Alternative</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://use.typekit.net/txr1dqd.css">
    </head>

    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        
            <div class="text-container">
                <img src="assets/horizontal_wordmark.svg" style="max-width: 40ch;"alt="WPGU logo"> 

                <div class="link-container">
                    <a href="">about</a>
                    <a href="">music</a>
                    <a href="">on-air</a>
                    <a href="">news</a>
                    <a href="">shop</a>
                </div>

                <audio controls class="audio-player">
                    <source src="https://ice64.securenetsystems.net/WPGUFM">
                </audio>

                
                <div id="yellow-on-black">NOW PLAYING</div>


                <div id="now-playing-section">
                    <img src="assets/placeholder.svg" id="dynamicImg" alt="Currently playing album art">
                    <div id="now-playing-text">
                        <div id="dynamicTitle">WPGU 107.1</div>
                        <br>
                        <div id="dynamicArtist">Champaign's Alternative</div>
                    </div>
                    <script>
                        var xmlhttp = new XMLHttpRequest();
                        xmlhttp.onreadystatechange = function() {
                            if (this.readyState == 4 && this.status == 200) {
                                parseXML(this);
                            }
                        };
                        xmlhttp.open("GET", "https://streamdb8web.securenetsystems.net/player_status_update/WPGUFM.xml", true);
                        xmlhttp.send();
            
                        function parseXML(xml) {
                            var x, i, xmlDoc;
                            xmlDoc = xml.responseXML;
                            titleNode = xmlDoc.getElementsByTagName("title");
                            artistNode = xmlDoc.getElementsByTagName("artist");
                            imgNode = xmlDoc.getElementsByTagName("cover");

                            document.getElementById("dynamicTitle").innerHTML = titleNode[0].childNodes[0].nodeValue;
                            document.getElementById("dynamicArtist").innerHTML = artistNode[0].childNodes[0].nodeValue;
                            document.getElementById("dynamicImg").src = imgNode[0].childNodes[0].nodeValue;

                        }
                        </script>
                </div>
            
                <div id="yellow-on-black">RECENTLY PLAYED</div>

            <div id="recently-played-section">
                <div class="recently-played-node">
                    <img src="assets/placeholder_albumart.jpg">
                    <div id="recently-played-text">
                        <div id="recently-played-title">Breakfast in America</div>
                        <div id="recently-played-artist"><i>Supertramp</i>
                        </div>
                    </div>
                    <div id="recently-played-time">
                        1 min ago
                    </div>
                    </div>
                </div>
            </div>
   
        </div>  
          
        <!-- <script src="" async defer></script> -->
    </body>
</html>