<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>WPGU-FM 107.1 Champaign's Alternative</title>
        <meta name="description" content="On the air 24/7 with lively student personalities, alternative music, speciality programs, local news and sports coverage.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://use.typekit.net/txr1dqd.css">
        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    </head>

    <body>
        <script src="https://xemantic.github.io/shader-web-background/dist/shader-web-background.min.js"></script>
        <script type="x-shader/x-fragment" id="Image">
            precision highp float;
          
            uniform vec2  iResolution;
            uniform float iTime;
            // ... other needed uniforms
           
            // -- Paste your Shadertoy code here:
            void mainImage( out vec4 O, in vec2 fragCoord )
            {
                vec2 uv = ( fragCoord -.5*iResolution.xy ) / iResolution.y;
                uv.x+=2.  ;
                uv.y += cos(uv.x*10.0)*0.25;
                uv.y*=2.;
                float r = 7.3,
                e = uv.x-iTime*0.07,
                t = e + abs(uv.y),
                f = (1.0+sin(uv.x))*0.4, 
                d = f - abs(fract(t*r) - .5)*2.,
                s = smoothstep(0., .05/max(d + .5, 0.), d + .1);    
                O = vec4(sqrt(s));
            }
            // -- End of Shadertoy code
              
              
            void main() {
              mainImage(gl_FragColor, gl_FragCoord.xy);
            }
          </script>
        </script>
        <script>
        shaderWebBackground.shade({
        shaders: {
            Image: {
            uniforms: {
                iResolution: (gl, loc, ctx) => gl.uniform2f(loc, ctx.width, ctx.height),
                iTime:       (gl, loc) => gl.uniform1f(loc, performance.now() / 1000),
            }
            }
        }
        });
        </script>
        <div id="filler" style="padding-top: 1em"></div>
        <script src="javascript/generate_banner.js"></script>        
        <a href="./"><img src="assets/horizontal_wordmark.svg" alt="WPGU logo"> </a>
<!-- 
        <div class="link-container">
            <a href="about/">about</a>
            <a href="shop/">instagram</a>
            <a href="on-air/">twitter</a>
            <a href="news/">facebook</a>
        </div> -->

        <div id="yellow-on-black" style="margin-top:1em;">LIVESTREAM</div>
        <audio controls class="audio-player">
            <source src="https://ice64.securenetsystems.net/WPGUFM">
        </audio>
        
            <div class="text-container">

                <div id="yellow-on-black">NOW PLAYING</div>


                <div id="now-playing-section">
                    <img src="assets/placeholder.svg" id="dynamicImg" alt="Currently playing album art">
                    <div id="now-playing-text">
                        <div id="dynamicTitle">WPGU 107.1</div>
                        <br>
                        <div id="dynamicArtist">Champaign's Alternative</div>
                    </div>
                </div>
            
                <div id="yellow-on-black">RECENTLY PLAYED</div>

            <div id="recently-played-section">
                <!-- <div class="recently-played-node">
                    <img src="assets/placeholder_albumart.jpg" id="recently-played-image">
                    <div id="recently-played-text">
                        <div id="recently-played-title">Breakfast in America</div>
                        <div id="recently-played-artist"><i>Supertramp</i>
                        </div>
                    </div>
                    <div id="recently-played-time">
                        1 min ago
                    </div>
                    </div>
                </div> -->
            </div>
            <!-- <a href="" style="">more songs ▶</a> -->
            <script src="javascript/populate_recents.js"></script>
   
        </div>  
        <div style="display: flex;  margin-top: 1em;flex-direction: column;align-items: center;">
            <a href="https://publicfiles.fcc.gov/fm-profile/wpgu#details" target="_blank" rel="noopener noreferrer">FCC public file</a>
            ⁎
            <!-- <div id="copyright"></div>
            ⁎ -->

            <a href="http://illinimedia.org/" target="_blank" rel="noopener noreferrer">The Illini Media Company</a>
            <!-- <script>
                var year = new Date(Date.now()).getFullYear()
                // year.getFullYear()
                document.getElementById("copyright").textContent = "© " + year
            </script> -->
        </div>
        <!-- <script src="" async defer></script> -->
    </body>
</html>